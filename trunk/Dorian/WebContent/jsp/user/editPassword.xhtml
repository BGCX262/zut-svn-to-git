<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:x="http://myfaces.apache.org/tomahawk"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="../common/template.xhtml">
<ui:param name="param" value="Change password" />
<ui:param name="css" value="../../includes/css/layout.css" />

	<ui:define name="title">
		<h:outputText value="Change password" />
	</ui:define>
	<ui:define name="body">
	    <h:form>
	    	<h:panelGrid columns="2">
		        <h:outputLabel value="Token" for="token" rendered="#{!passwordRecoveryBean.rendered}"/>
		        <x:inputText id="token" forceId="true" value="#{passwordRecoveryBean.token}" size="20" maxlength="64" redisplay="false" styleClass="def-input" rendered="#{!passwordRecoveryBean.rendered}"/>

		        <h:outputLabel value="Current password" for="password" rendered="#{passwordRecoveryBean.rendered}"/>
		        <x:inputSecret id="password" forceId="true" value="#{passwordRecoveryBean.data}" size="20" maxlength="20" redisplay="false" styleClass="def-input" rendered="#{passwordRecoveryBean.rendered}"/>

		        <h:outputLabel value="New password" for="newPassword"/>
		        <x:inputSecret id="newPassword" forceId="true" value="#{passwordRecoveryBean.newPassword}" size="20" maxlength="20" redisplay="false" styleClass="def-input"/>

		        <h:outputLabel value="New password" for="newPasswordVerifier" />
		        <x:inputSecret id="newPasswordVerifier" forceId="true" value="#{passwordRecoveryBean.newPasswordVerifier}" size="20" redisplay="false" maxlength="20" styleClass="def-input"/>
		    </h:panelGrid>
	        
	        <h:commandButton type="submit" action="#{passwordRecoveryBean.save}" value="Save" styleClass="def-but" rendered="#{passwordRecoveryBean.rendered}"/>
	        <h:commandButton type="submit" action="#{passwordRecoveryBean.recover}" value="Recover" styleClass="def-but" rendered="#{!passwordRecoveryBean.rendered}"/>
	        <h:commandButton type="reset" value="Cancel" styleClass="def-but" action="/welcome.jsf?faces-redirect=true" rendered="#{passwordRecoveryBean.rendered}"/>
        </h:form>
        
    </ui:define>
</ui:composition>
</html>        

